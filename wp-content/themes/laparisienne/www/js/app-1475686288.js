function WnkLaxController(){this.elements=[];this.enabled=!1;this.requestID=null;this.init()}
WnkLaxController.prototype={init:function(){},addElement:function(el,parent,opts){var element=new WnkLaxElement(el,parent,opts);this.elements.push(element)},removeElement:function(el){for(var i=0;i<this.elements.length;i++){if(this.elements[i].el.get(0)==el.get(0)){this.elements[i].destroy();this.elements.splice(this.elements[i],1)}}},removeAll:function(){this.stop();for(var i=0;i<this.elements.length;i++){this.elements[i].destroy()}
this.elements=null},onFrame:function(){for(var i=0;i<this.elements.length;i++){this.elements[i].onFrame()}
this.requestID=window.requestAnimationFrame($.proxy(this.onFrame,this))},start:function(){this.enabled=!0;this.onFrame()},stop:function(){window.cancelAnimationFrame(this.requestID);this.requestId=null},trace:function(){for(var i=0;i<this.elements.length;i++){}},}
function WnkLaxElement(el,parent,opts){this.el=el;this.parent=parent;this.defaults={deltaX:1.0,deltaY:1.0,accX:1.0,accY:1.0,mode:'translate',axe:'v',max:!1,};this.settings=$.extend({},this.defaults,opts);this.y=0;this.x=0;this.originX=0;this.originY=0;this.w=0;this.h=0;this.currentDeltaX=0;this.currentDeltaY=0;this.wH=0;this.wW=0;this.init()}
WnkLaxElement.prototype={init:function(){this.onResize()},onFrame:function(){var tweenDeltaX=this.caclDeltaTranslate(this.settings.deltaX,this.currentDeltaX,this.settings.accX);var tweenDeltaY=this.caclDeltaTranslate(this.settings.deltaY,this.currentDeltaY,this.settings.accY);this.move(tweenDeltaX,tweenDeltaY);this.currentDeltaX=tweenDeltaX;this.currentDeltaY=tweenDeltaY},caclDeltaTranslate:function(delta,curr,acc){var scrollTop=this.getScrollTop();var newDelta=(scrollTop-(scrollTop*(delta)));var tweenDelta=(curr-((curr-newDelta))*acc);if(Math.abs(tweenDelta)<(1/1000)){tweenDelta=newDelta}
return tweenDelta},move:function(x,y){var property,value='';if(this.settings.mode=='translate'){property='transform';value="translateZ(0)";if(x!==0){value+=' translateX('+x+'px) '}
if(y!==0){value+=' translateY('+y+'px) '}}
if(this.settings.mode=='bg'){property='background-position';value+=(x!==0)?x+'px ':this._getBgPosFor('x')+' ';value+=(y!==0)?y+'px':this._getBgPosFor('y')}
if(value.length>0){this.el.css(property,value)}},enable:function(){if(!this.enabled){this.enabled=!0;this.onFrame()}},disable:function(){this.enabled=!1;this.onDisabled()},onDisabled:function(){},onResize:function(){this.wH=$(window).height();this.wW=$(window).width();this.w=this.el.width();this.h=this.el.height();var hasFixedParent=this.el.parents().filter(function(){return $(this).css('position')=='fixed'});if(hasFixedParent.length>0){this.originY=this.el.offset().top-window.pageYOffset}else{this.originY=this.el.offset().top;this.originX=this.el.offset().left}},destroy:function(){this.disable();this.el=null
this.parent=null;this.settings=null},getScrollTop:function(){if(this.originY>(this.wH/2)){return(window.pageYOffset-this.originY)+(this.wH/2)-(this.h/2)}
var origin=Math.max((this.originY-(this.wH/2)),0);return(window.pageYOffset-origin)},_getBgPosFor:function(axe){var pos=this.el.css('background-position').split(' ');if(axe=='x'){return pos[0]}
return pos[1]}}
function WnkMediaLoader(imgs,parent){this.$imgs=imgs;this.count=0;this.parent=parent;this.allLoaded=!1;this.eventName='wnk.mediasLoaded';this.init()}
WnkMediaLoader.prototype={init:function(){if(this.$imgs.length<=0){$(this.parent).trigger(this.eventName)}},load:function(){this.$imgs.each($.proxy(this.initMedia,this))},initMedia:function(i,media){var $media=$(media);if($media.prop('tagName')==='IMG'){$media.one("load.WnkMediaLoader",$.proxy(this.onMediaLoaded,this));if(media.complete)$media.load()}else if($media.prop('tagName')==='VIDEO'){$media.one("loadeddata.WnkMediaLoader",$.proxy(this.onMediaLoaded,this));media.load()}else{console.log('UNKNOWN MEDIA => '+$media.prop('tagName'));this.count=-1;this.onMediaLoaded()}},onMediaLoaded:function(e){this.count++;if(this.count==this.$imgs.length){$(this.parent).trigger(this.eventName)}},destroy:function(){this.$imgs.unbind('load.WnkMediaLoader').unbind('loadeddata.WnkMediaLoader')}};function LaParisienne(){$this=this;this.wax=new WnkLaxController()}
LaParisienne.prototype={preload:function(){$this.init()},init:function(){var $this=this;this.bindEvents();setTimeout(function(){},100)},bindEvents:function(){var $this=this;$('#test').click(function(){$('header').toggleClass('small');$('header').toggleClass('background')})
var $triggerScroll=$('.scrollTrigger');if($triggerScroll.length>0){$triggerScroll.waypoint({handler:function(dir){if(dir=='down'){$('.main-header').addClass('small')}else{$('.main-header').removeClass('small')}},offset:$('.main-header').height()+15});if(!$('body').hasClass('mobile')&&!$('body').hasClass('tablet')){var loader=new WnkMediaLoader($('img'),this);$(this).one(loader.eventName,$.proxy(this.onLoad,this));loader.load()}}
$('a.down').click(function(){$.scrollTo($('.post-fixed'),650,{'axis':'y',offset:-200})});var defaultFbox={openEffect:'none',closeEffect:'none',width:'100%',height:'100%',padding:0,margin:40,helpers:{overlay:{locked:!0},media:{},},tpl:{closeBtn:'<a title="Close" class="fancybox-item fancybox-close fancybox-close-white" href="javascript:;"></a>'}};$('.fbox-produits').click(function(e){var target="#galerie-"+$(this).data('target')+" a";$.fancybox($(target),defaultFbox);e.preventDefault();return !1});$('.m-burger, .m-close').click(function(){$('body').toggleClass('menuOpen')})
$('nav .menu-item-type-wnk-produit a').click(function(e){$('nav.liste-produits').addClass('open');e.preventDefault();return !1});$('nav.liste-produits').mouseleave(function(e){if(!$('#logo .big-black').is(':visible')){$(this).removeClass('open')}});$('.m-close-produit').click(function(){$('nav.liste-produits').removeClass('open')});$('.home-intro, .page-intro').addClass('show');$(document).on('scroll',function(e){if(window.pageYOffset<$(window).height()&&!$('body').hasClass('mobile')){var percent=(window.pageYOffset/($(window).height()/2.5));$('.home-intro .wrap, .page-intro .wrap, header.intro .wrap').css({opacity:1-percent})}})},onLoad:function(){this.wax.addElement($('.page-intro .bg, .home-intro  .bg, header.intro .bg'),null,{deltaY:1.2,mode:'translate'});$('.page-intro, .home-intro, header.intro').each(function(){if(!$(this).hasClass('short')){$this.wax.addElement($(this).find('.wrap'),null,{deltaY:1.0,mode:'translate'})}})
this.wax.addElement($('.main-footer .bg'),null,{deltaY:0.6,mode:'translate'});if($('body').hasClass('home')){this.wax.addElement($('.home-awards .bg'),null,{deltaY:0.8,mode:'translate'})}
this.wax.start()},}